# Telegram Claim Bot - Инструкции по поддержке прокси

## Введение

Telegram Claim Bot теперь поддерживает **прокси-туннель сторонних разработчиков**. Эта опциональная функция позволяет вам:

- **Обойти географические ограничения**, которые могут препятствовать доступу к социальным сетям, таким как Telegram Web.
- **Повысить конфиденциальность**, маршрутизируя действия вашего бота через различные локации.

Следуйте приведённым ниже шагам, чтобы включить и настроить поддержку прокси для вашего бота.

---

## 1. Включение поддержки прокси

Убедитесь, что вы находитесь в главной директории, откуда запускаете свои скрипты. Выполните следующие команды для включения поддержки прокси:

```
./launch.sh enable-proxy
```

Затем настройте конфигурацию прокси с помощью:

```
./launch.sh setup-proxy
```

---

## 2. Настройка вашего прокси

В процессе настройки вам будет предложено ввести данные вашего прокси. Если обнаружена существующая конфигурация прокси, она будет отображена, и вы сможете **сохранить или удалить** её.

**Предоставьте следующую информацию при запросе:**

- **Upstream proxy host (IP или URL):**
- **Upstream proxy port:**
- **Upstream proxy username:**
- **Upstream proxy password:**

**Процесс:**

1. **Введите данные прокси:** Введите ваши учётные данные прокси по запросу.
2. **Тест подключения:** Скрипт попытается установить соединение с использованием введённых данных.
   - **Успех:** Встроенный прокси перезапустится и выполнит аутентификацию на вашем прокси-сервере.
   - **Ошибка:** Появится сообщение об ошибке с просьбой ввести правильную информацию повторно.

**Пример:**

- Enter upstream proxy host (IP or URL): proxy.example.com  
- Enter upstream proxy port: 8080  
- Enter upstream proxy username: yourUsername  
- Enter upstream proxy password: yourPassword  

---

## 3. Обновление настроек в игре

Если вы ещё не используете встроенный прокси, после настройки прокси upstream обновите настройки в игре, чтобы обеспечить корректную маршрутизацию через прокси-сервер.

**Шаги:**

1. **Включите использование прокси:** В настройках вашей игры установите опцию **`useProxy:`** в значение **`True`**.
2. **Укажите адрес прокси-коннектора:** Используйте следующий адрес для подключения к MITM Proxy (а не к вашему upstream proxy host):

   ```
   http://127.0.0.1:8080
   ```

**Важные замечания:**

- Адрес `http://127.0.0.1:8080` маршрутизируется через **MitMProxy (Man-in-the-Middle Proxy)**, который:
  - Модифицирует данные, чтобы эмулировать подключение мобильного устройства.
  - Корректирует заголовки, необходимые для некоторых игр (например, Blum).
- **Selenium**, инструмент для навигации по страницам Telegram Web, не может напрямую аутентифицировать прокси с использованием имени пользователя и пароля. MitMProxy обрабатывает эту аутентификацию бесшовно, используя ваши предоставленные учётные данные.

---

## 4. Прокси-подключения для каждой сессии

Для пользователей, которым требуются **прокси-подключения для каждой сессии**, рекомендуется использовать **Docker-контейнеры**:

**Реализация:**

- **Создавайте отдельные контейнеры:** Настройте отдельные Docker-контейнеры для каждой сессии, требующей отдельного прокси-подключения.
- **Настраивайте прокси индивидуально:** Назначайте разные настройки прокси для каждого контейнера по необходимости.

**Преимущества:**

- **Изоляция:** Каждая сессия работает независимо, снижая взаимное влияние.
- **Гибкость:** Легко управлять и масштабировать несколько сессий с разными конфигурациями прокси.

---